# vim: filetype=muttrc

color index         red       default ~Q #replied
color status        red       black 
color indicator     black     red      # Currently selected message

unset sig_dashes

set   forward_attribution_intro = "_---------- Forwarded message ---------_"
set   attribution               = "_On %d, %n wrote:_\n"

set   mailcap_path        = "~/.config/neomutt/core/mailcap_html"

set   status_format       = "󰩃  %D %<u?󰇮(%u)> "

unhook reply-hook

reply-hook '~t jkorbmacher@gmail.com'   "set signature   = '~/.config/neomutt/accounts/gmail_html_signature.html'"
reply-hook '~t logische.methoden@uu.nl' "set signature   = '~/.config/neomutt/accounts/lm_html_signature.html'"
reply-hook '~t j.korbmacher@uu.nl'      "set signature   = '~/.config/neomutt/accounts/uu_html_signature.html'"

set pager = "w3m %s"
# set pager = "glow -s dark -w 78 -p"
unset prompt_after

set ts_enabled = true
set ts_status_format = "NeoMutt  %f"
set pager_format = ""
set attach_format = "%t%n %d (%m/%M, %s)"

macro compose ch \
"<enter-command>set pipe_decode<enter>\
<pipe-message> pandoc -f markdown -t plain -o /tmp/msg.txt<enter>\
<pipe-message> pandoc -s -f markdown --embed-resources -o /tmp/msg.html --resource-path ~/.config/neomutt/shared/ --template email<enter>\
<enter-command>unset pipe_decode<enter>\
<attach-file>/tmp/msg.txt<enter><toggle-disposition><toggle-unlink>\
<attach-file>/tmp/msg.html<enter><toggle-disposition><toggle-unlink>\
<tag-entry><previous-entry><tag-entry><group-alternatives>\
" \
"Convert markdown to HTML5 and plaintext alternative content types"

unbind gh
macro index,pager gh "<enter-command>source '~/.config/neomutt/dynamic/html_off'<enter>"
